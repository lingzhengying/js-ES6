<template>
    <h2>我是About组件</h2>
</template>

<script>
    export default {
        name:'About',
        // 通过路由规则，进入该组件时被调用
        beforeRouteEnter(to,from,next){
            console.log('进来了',to,from);
           console.log('组件内路由守卫',to,from);
            if(to.meta.isAuth){ // 判断是否需要权限
                if(localStorage.getItem('school') === 'lzy1'){
                    next()
                }else{
                    alert('学校名不对无权限查看！')
                }
            }else{
                next()
            }
        },
         // 通过路由规则，离开该组件时被调用
        beforeRouteLeave (to, from,next) {
           console.log('离开了',to,from);
           next()
        }
    }
</script>

